<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Retro Registering Autonomous Machine (T.R.R.A.M.)</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- Base & Font Configuration --- */
        /* Use a strong monospace font for that 8-bit/terminal feel */
        body {
            font-family: 'VT323', 'Monaco', monospace;
            transition: background-color 0.3s, color 0.3s;
            line-height: 1.5;
        }

        /* Load VT323 from Google Fonts (a great retro terminal font) */
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        /* Default (Light Mode) Variables */
        :root {
            --bg-primary: #f0f0f0; /* Light gray "screen" */
            --text-primary: #111111; /* Dark text */
            --accent-color: #ff00ff; /* Magenta/Pink */
            --border-color: #000000;
            --box-shadow: 4px 4px 0 #111111;
        }
        
        /* Dark Mode Variables (Activated via the .dark class on <html>) */
        html.dark {
            --bg-primary: #111111; /* True dark screen */
            --text-primary: #00ff00; /* Neon Green */
            --accent-color: #ffcc00; /* Retro Yellow */
            --border-color: #00ff00;
            --box-shadow: 4px 4px 0 #00ff00;
        }

        /* Apply General Theme Styles */
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-size: 1.25rem; /* Make the font size larger for retro readability */
        }

        /* --- Retro Element Styling --- */

        .retro-card {
            background-color: var(--bg-primary);
            border: 4px solid var(--border-color);
            box-shadow: var(--box-shadow);
            border-radius: 0; /* Sharp corners for retro feel */
        }

        .retro-button {
            border: 2px solid var(--border-color);
            background-color: var(--accent-color);
            color: var(--bg-primary); /* Text color from the background */
            font-weight: bold;
            text-transform: uppercase;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.1s;
            box-shadow: 2px 2px 0 var(--border-color);
        }

        .retro-button:hover {
            transform: translate(1px, 1px);
            box-shadow: 1px 1px 0 var(--border-color);
        }
        
        .retro-button:active {
            transform: translate(2px, 2px);
            box-shadow: none;
        }

        .retro-input {
            border: 2px solid var(--border-color);
            background-color: transparent;
            color: var(--text-primary);
            padding: 4px 8px;
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.5); /* Inner shadow for depth */
        }

        /* --- Simulated CRT Effect (Optional but cool) --- */
        .crt-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            /* Scanline effect */
            background: repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0.1),
                rgba(0,0,0,0.1) 1px,
                transparent 1px,
                transparent 2px
            );
            mix-blend-mode: overlay;
            opacity: 0.8;
            z-index: 10;
        }

    </style>
    <script>
        // Configure Tailwind to look for the 'dark' class on the HTML tag
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
</head>
<body class="p-4 flex flex-col items-center">

    <!-- Main Container with CRT-like Screen Effect -->
    <div id="app-card" class="retro-card w-full max-w-5xl relative p-6 sm:p-8 overflow-hidden crt-effect">
        
        <!-- Header / System Status Bar -->
        <header class="mb-8 border-b-4 pb-4 flex justify-between items-center" style="border-color: var(--accent-color);">
            <h1 class="text-4xl font-extrabold" style="color: var(--accent-color);">
                T.R.R.A.M. <span class="text-xl inline-block ml-2">v1.1</span>
            </h1>
            <h2 class="text-2xl font-bold text-right hidden sm:block">
                THE RETRO REGISTERING AUTONOMOUS MACHINE
            </h2>
            
            <!-- Theme Toggle Button -->
            <button id="theme-toggle" 
                    class="retro-button p-2"
                    style="border-color: var(--border-color); background-color: var(--text-primary); color: var(--bg-primary);"
                    aria-label="Toggle theme">
                <!-- Moon Icon (Light Mode Default) -->
                <span id="moon-icon" style="color: var(--accent-color);">üåô</span>
                <!-- Sun Icon (Dark Mode Default) -->
                <span id="sun-icon" class="hidden" style="color: var(--accent-color);">‚òÄÔ∏è</span>
            </button>
        </header>

        <!-- System Message / Information Panel -->
        <div class="mb-8 p-4 border-2" style="border-color: var(--text-primary);">
            <p><span style="color: var(--accent-color); font-weight: bold;">[SYSTEM]</span> Welcome, User! Enter your program details below to generate your optimal course path. All data is protected via 8-bit encryption.</p>
            <p id="system-status" class="mt-2 text-sm">STATUS: Light Mode Active | Ready for Input.</p>
        </div>

        <!-- Input Section: Program & Action -->
        <div class="mb-10 space-y-4">
            <label for="program-input" class="block font-bold">
                PROGRAM INPUT:
            </label>
            <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                <input
                    id="program-input"
                    type="text"
                    placeholder="E.g., Computer Science, Dual Math, Mech Eng"
                    class="retro-input flex-grow"
                />
                <button id="generate-button" class="retro-button min-w-[150px]">
                    GENERATE PLAN
                </button>
            </div>
        </div>

        <!-- Schedule Grid Placeholder -->
        <div id="schedule-output" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Example Semester Card -->
            <div class="retro-card p-4" style="border-color: var(--accent-color);">
                <h3 class="text-xl font-bold mb-3 border-b-2 pb-1" style="border-color: var(--text-primary);">
                    YEAR 1: FALL
                </h3>
                <div class="space-y-2">
                    <p>CSCI 1100 <span style="color: var(--accent-color);">[CORE]</span></p>
                    <p>MATH 1010</p>
                    <p>ENGR 1200</p>
                    <p>HASS 1000 <span class="text-sm">(INQR)</span></p>
                </div>
                <p class="mt-3 pt-2 border-t-2 text-right text-sm" style="border-color: var(--text-primary);">TOTAL: 16 CR.</p>
            </div>
            
            <!-- Another Example Card -->
            <div class="retro-card p-4">
                <h3 class="text-xl font-bold mb-3 border-b-2 pb-1" style="border-color: var(--text-primary);">
                    YEAR 2: SUMMER (ARCH)
                </h3>
                <p class="text-center italic pt-4 pb-4">FIELD EXPERIENCE / RESEARCH</p>
                <p class="mt-3 pt-2 border-t-2 text-right text-sm" style="border-color: var(--text-primary);">TOTAL: 0 CR.</p>
            </div>

            <!-- Empty slots to fill the grid -->
            <div class="p-4 border-2 border-dashed text-center opacity-50 hidden md:block" style="border-color: var(--text-primary);">
                <p>SLOT 3 PENDING</p>
            </div>
            <div class="p-4 border-2 border-dashed text-center opacity-50 hidden lg:block" style="border-color: var(--text-primary);">
                <p>SLOT 4 PENDING</p>
            </div>
        </div>
        
    </div>

    <!-- JavaScript Logic for Theme Toggling -->
    <script>
        const html = document.documentElement;
        const toggleButton = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        const statusText = document.getElementById('system-status');
        const buttonText = document.getElementById('generate-button');
        
        // Key for saving theme preference in browser storage
        const THEME_STORAGE_KEY = 'rram_theme';

        // Sets the theme by adding/removing the 'dark' class on the <html> element
        function setTheme(theme) {
            if (theme === 'dark') {
                html.classList.add('dark');
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
                statusText.innerHTML = 'STATUS: <span style="color: var(--accent-color);">Dark Mode Active</span> | Awaiting Program Query...';
                localStorage.setItem(THEME_STORAGE_KEY, 'dark');
            } else {
                html.classList.remove('dark');
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
                statusText.innerHTML = 'STATUS: <span style="color: var(--accent-color);">Light Mode Active</span> | Awaiting Program Query...';
                localStorage.setItem(THEME_STORAGE_KEY, 'light');
            }
        }

        // Toggles the current theme
        function toggleTheme() {
            const currentTheme = html.classList.contains('dark') ? 'dark' : 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        }

        // Initialize the theme on load
        window.onload = function() {
            // Check for saved preference, otherwise default to light
            const savedTheme = localStorage.getItem(THEME_STORAGE_KEY);
            if (savedTheme) {
                setTheme(savedTheme);
            } else {
                // Check system preference (optional)
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
                setTheme(prefersDark ? 'dark' : 'light');
            }

            // Attach event listener after initialization
            toggleButton.addEventListener('click', toggleTheme);

            // Placeholder click action for the Generate button
            buttonText.addEventListener('click', () => {
                const input = document.getElementById('program-input').value;
                if (input.trim()) {
                    statusText.innerHTML = `STATUS: Processing query for <span style="color: var(--accent-color);">${input}</span>. Please wait for AI computation...`;
                    // In a real app, this is where you'd call the Gemini API
                    setTimeout(() => {
                        statusText.innerHTML = `STATUS: <span style="color: var(--accent-color);">COMPLETED</span>. Plan generated for ${input}.`;
                    }, 2000);
                } else {
                     statusText.innerHTML = `STATUS: <span style="color: #ff0000;">ERROR</span>. Input required for processing.`;
                }
            });
        };
    </script>
</body>
</html>